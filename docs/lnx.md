# Linuxの基本的な使い方
このページでは、Linuxの基本的な使い方について解説する。わからないことがあったり、エラーが出たりする際はよく調べるのが基本。遺伝研スーパーコンピュータのホームページを見たり、「（やりたいこと） Linux」などで検索をかけると良い。と、遺伝研スーパーコンピュータの基本的な利用法については[ここ](supakon.md)。<br>

- [基本的なこと](#基本的なこと)
- [コマンド](#コマンド)
- [その他](#その他) 
## 基本的なこと
スパコンやWSLで実行可能なLinuxにGUIは無い。そこで、ターミナル（黒いやつ）を介して指示を出す。以下、簡単に使い方を説明する。<br>
対話型なので、指示を入力した後エンターキーで実行され、結果が画面（≈標準出力）に表示される。GUIが無いため、はじめは混乱すると思うが、やっていることは同じ。目的のファイルがある位置に移動して、目的のファイルを実行したり、書き換えたりできる。
### パス
パスとは、ファイルやディレクトリ（≈フォルダ）の存在する場所を示す住所や座標みたいなものである。普通スラッシュ区切りであらわされる。例えば、user/name/file.txtというパスは、userというディレクトリの中の、nameというディレクトリの中の、file.txtというファイルの位置を示している。
### 相対パス・絶対パス
相対パスは、自分のいる位置（カレントディレクトリ）から見たあるファイルやディレクトリの位置のこと。絶対パスは、コンピュータの一番浅い階層のディレクトリ(rootディレクトリ)から見たあるファイルやディレクトリの位置のこと。相対パスは先頭に/（スラッシュ）を付けずに表し、絶対パスは先頭に/（スラッシュ）を付けて表す。<br>
例えば、自分がいまfilesディレクトリにいるとして、そこに存在するtxtディレクトリの中のlists.txtというファイルは、
```
txt/lists.txt
/home/files/txt/lists.txt
```
の2通りで表現可能である。
### 特殊な意味を持つ記号
#### ../ ./ . /（スラッシュとピリオド）
**../**     1つ上の階層のディレクトリ<br>
**./**      カレントディレクトリ（自分のいまいる場所）の中<br>
**.**       カレントディレクトリそのもの<br>
**/**       rootディレクトリ。rootディレクトリ以外のすべてのディレクトリはこのディレクトリの中に含まれる。<br>

#### >と<（不等号記号）
**>**       コマンドの実行結果をファイルに書き出すときに使う。例えば、`ls *.txt > lists.txt`とすると、lists.txtにカレントディレクトリ中の名前が.txtで終わるファイルの一覧が出力される。<br>
**<**       コマンドの実行結果をコマンドに入力するときに使う。例えば、`cat <(ls *.fasta) <(ls *.fa) > fasta_list.txt`とすると、カレントディレクトリ中の名前が.fastaまたは.faで終わるファイルの一覧がfasta_list.txtに出力される。

#### |（絶対値記号）
コマンドの実行結果を別のコマンドに渡すときに使う。例えば、`cat FILE1 FILE2 | gzip > FILE3.gz`とすると、FILE1とFILE2をつないだものがgzipで圧縮され、FILE3に保存される。

## コマンド
コンピュータがどう動くかを指示した一連のプログラムを、1つのまとまりにしたもの。多くの種類がある。例えば`ls`というコマンドを与えると、カレントディレクトリに含まれるファイル、ディレクトリの一覧が表示される。

### コマンドのオプション
Linuxで利用可能なコマンドは多数あるが、コマンドと一緒にオプションを指定することでコマンドの働きが調整可能になっていることが多い。大抵の場合は-（ハイフン）や--（ハイフン2個）でオプションを指示可能。例えば、
```
ls #ディレクトリの（隠しファイル以外の）内容一覧を表示
ls -a #ディレクトリ中の隠しファイルを含めた内容一覧を表示
ls --help #lsコマンドのヘルプを表示
```

### とりあえず覚えておくべきコマンド
ここで紹介した以外のコマンドや、紹介できなかったオプションも大量にあるので、やりたいことに応じて適宜調べること。
#### cd
ディレクトリ移動のコマンド。`cd dir1/dir2 #移動先のディレクトリ`の形でディレクトリを移動できる。`cd`単体で打つとホームディレクトリに戻る。
#### ls
ディレクトリ中のファイル表示。`ls dir1/dir2 #ファイル一覧を表示したいディレクトリ`の形で利用する。`ls`のみでカレントディレクトリに含まれるファイル・ディレクトリが表示される。ワイルドカードが利用可能で、`ls abc*`とすれば名前がabcから始まるファイル・ディレクトリを、`ls *.txt`とすれば、名前が.txtで終わるファイル、ディレクトリを表示する。
#### less
ファイルの中身を順次表示する。`less FILE`の形で利用する。gzipファイルは展開せずに表示できる。一時的に別画面に移行するが、qと入力するとターミナルに復帰する。そのほかにもいろいろコマンドがあるので、気になったら調べる。
#### cat
ファイルの中身を標準出力に出力する。'cat FILE'の形でファイルの中を読んだりするのに使うが、`cat FILE1 FILE2 > FILE3 #FILE1とFILE2の内容をFILE3に書き込む`の形で複数のファイルを一つにまとめるのに使える。圧縮ファイルを扱うときは、圧縮方式に応じてzcatなどを使う必要がある場合がある。
#### grep
ファイル内の文字列を検索し、一致した文字列を含む行をすべて出力する。`grep 文字列 FILE`の形で利用する。オプションによって前後の行を含めたり、正規表現を使ったりできるので、目的に応じたオプションを付けること。圧縮ファイルの中身を検索する場合は、zgrepを使う。
## その他
### コマンド中の\（バックスラッシュ）
長い指示を一行で書くと見ずらいので、途中で\（バックスラッシュ）を入れエンターを押すと、コマンドが実行されずに改行される。また、特殊な意味を持つ記号を文字列として扱いたい場合も\を付けることがある。例えば。コマンド中に`\/`というのがあったら、スラッシュを文字列として使いたいことを表している（ことが多い）。
### 変数の定義
一部の例外を除き、好きな文字を変数として利用可能。例えば、
```
FILES="home/dir/dir2/nanka/mokuteki.txt"
```
と定義しておくと、以降`$`FILES、\$\{FILES}という文字列は"home/dir/dir2/nanka/mokuteki.txt"と同じものとして扱われる（それぞれ扱いが微妙に異なる）。<br>
コマンドの出力結果を変数に収めたい場合は、\`（グレイヴ・アクセント、Shift+@で出るやつ）でコマンドを囲ったものを代入する。例えば、
```
FILE_LIST=`ls *.fasta`
```
とすると、fastaファイルの一覧がFILE_LISTに代入される。

